<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    <title>Location (Client Name)</title>
    <link rel="stylesheet" href="node_modules/materialize-css/dist/css/materialize.min.css">
    <link href="static/css/main.css" rel="stylesheet">
    <link rel="stylesheet" href="static/line-awesome/css/line-awesome-font-awesome.min.css">
    <script type="text/javascript" src="modules/env.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/3.3.3/adapter.min.js"></script>
    <script type="text/javascript" src="modules/instascan.min.js"></script>
    <script src="node_modules/jquery/dist/jquery.min.js" type="text/javascript" > </script>
    <script src="node_modules/sweetalert/dist/sweetalert.min.js" type="text/javascript" > </script>
  </head>

  <body onload="products();">

    <div id="modal2" class="modal">
      <div class="modal-content" id="modal2_content">
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
      </div>
    </div>

    <nav id="nav_principal">
      <div  id="name_lastName" class="nav-wrapper red darken-4 z-depth-5">
        <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="fa fa-bars fa-3x" aria-hidden="true"></i></a>
        <ul class="right hide-on-med-and-down">
          <li><a class="dropdown-button" href="#!" data-activates="dropdown1">Menu<i class="fa fa-bars fa-3x right"></i></a></li>
        </ul>
      </div>
      <ul id="dropdown1" class="dropdown-content">
        <li class="divider"></li>
        <li><a href="index.html" class="red-text darken-4">Page d'accueil</a></li>
        <li class="divider"></li>
        <li><a href="" class="red-text darken-4">Configuration products</a></li>
        <li class="divider"></li>
      </ul>
    </nav>

    <div class="row ">

      <div class="col s4 m4 l4  "> <!-- BIG container Left -->
        <div class="col s6 m12 hoverable">    <!--Container VENTE -->
          <div class="card  cyan darken-4">
            <div class="card-content white-text">
              <span class="card-title center ">VENTE</span>
              <div class="center">
                <div id="products" class="row">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col s4 m4 l8"> <!-- BIG CONTAINER RIGHT  div -->

        <ul class="side-nav" id="mobile-demo"> \
          <li><a href="index.html" class="red-text darken-4">'+  +'</a></li>\
          <li><a href="" class="red-text darken-4">'+  +'</a></li>\
        </ul>
        <div class="col s6 hoverable"> <!--Container LIST-->
          <div  class="card  teal darken-4 center">
            <div class="card-content white-text">
              <span class="card-title center">LIST</span>
              <div id="list" class"row">
              </div>
              <div class="card-content white-text">
                <span class="card-title center">LIST INFO</span>
                <div class="collection">
                  <a  class="collection-item teal-text darken-5 bold-text"><h5 class="left">Total</h5><h5 id="totalList"class="right-align">0 Fr</h5></a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col s6 hoverable"> <!--Container PAYMENT-->
          <div  class="card   lime darken-4 center">
            <div class="card-content white-text">
              <span class="card-title center">PAYMENT</span>
              <div id="topay" class"row">
              <!-- LISTE DES ARTICLES A PAYER -->
              </div>
              <span class="card-title center">PAYMENT INFO</span>
              <div class="collection">
                <a  class="collection-item teal-text darken-5 bold-text"><h5 class="left">Total a Payer</h5><h5 id="totalPay"class="right-align">0 Fr</h5></a>
                <a  class="collection-item teal-text darken-5 bold-text"><h5 class="left">Total Payé</h5><h5 id="totalPayed"class="right-align">0 Fr</h5></a>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>


    <div class="fixed-action-btn toolbar">
      <a class="btn-floating btn-large red darken-4">
        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
      </a>
      <ul>
        <li class="waves-effect waves-light"><a href="#!"><i class="fa fa-money fa-4x" aria-hidden="true"></i></a></li>
        <li class="waves-effect waves-light"><a href="#!"><i class="fa fa-credit-card fa-4x" aria-hidden="true"></i></a></li>
        <li class="waves-effect waves-light">
        <!-- Modal Trigger QR-->
        <a onclick="scanner.start()" class="waves-effect waves-light modal-trigger" href="#modal1"><i class="fa fa-qrcode fa-4x" aria-hidden="true"></i></a></li>
      </ul>
    </div>

<!-- Modal Structure QR -->
    <div id="modal1" class="modal">
      <div class="modal-content center">
        <h4>Lecteur QR</h4>
        <video id="preview"></video>
      </div>
      <div class="modal-footer">
        <a href="#!"  onclick="scanner.stop()" class="modal-action modal-close waves-effect waves-green btn-flat">Utiliser Code QR</a>
      </div>
    </div>


    <script type="text/javascript" src="modules/config.js"> </script>
    <script type="text/javascript" src="modules/operations.js"> </script>
    <script type="text/javascript" src="modules/intervals.js"> </script>
    <script type="text/javascript" src="modules/onclicks.js"> </script>
    <script type="text/javascript" src="modules/main.js"> </script>
    <script src="node_modules/materialize-css/dist/js/materialize.min.js" type="text/javascript" > </script>
    <script> $( document ).ready(function() {$('.tabs').tabs({swipeable: true});});</script>
    <script>$(".button-collapse").sideNav();</script>

    <script type="text/javascript">
       let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
       scanner.addListener('scan', function (content) {
         console.log(content);
         swal({ title : "Votre QR : '"+content+"'",})
       });
       Instascan.Camera.getCameras().then(function (cameras) {
         if (cameras.length > 0) {
           scanner.start(cameras[0]);
         }
         else {
           console.error('No cameras found.');
           swal({ title : "Pas de camera trouvé",})
         }
        }).catch(function (e) {
           console.error(e);
           swal({ title : "Erreur: "+e+"",})
         });
    </script>

   <script type="text/javascript">

     $(document).ready(function(){
       $('.modal').modal();
       scanner.stop();
       clickLocation();
     });

   </script>



 </body>
</html>
