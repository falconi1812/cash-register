<!DOCTYPE html>

<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
  content="
    height = 1000px,
    width = 1000px,
    initial-scale = 0.6,
    minimum-scale = 0.6,
    maximum-scale = 0.6,
    user-scalable = no,
    target-densitydpi = device-dpi
    " />
  <title>Products</title>
  <link rel="stylesheet" href="node_modules/materialize-css/dist/css/materialize.min.css">
  <link href="static/css/main.css" rel="stylesheet">
  <link href="static/css/config-products.css" rel="stylesheet">
  <link rel="stylesheet" href="static/font-awesome-4.7.0/css/font-awesome.min.css">
  <link href="node_modules/select2/dist/css/select2.min.css" rel="stylesheet" />
  <link href="static/css/select2-materialize.css" rel="stylesheet" />
  <script src="node_modules/sweetalert/dist/sweetalert.min.js" type="text/javascript">
  </script>
  <script src="node_modules/jquery/dist/jquery.min.js" type="text/javascript"></script>
  <script src="node_modules/select2/dist/js/select2.min.js"></script>
  <script type="text/javascript" src="modules/main.js">
  </script>
</head>

<body onload="printListProducts(); printIconsList()">
  <ul id="dropdown1" class="dropdown-content">
    <li class="divider"></li>
    <li><a href="index.html" class="red-text darken-4">Home</a></li>
    <li class="divider"></li>
  </ul>
  <div class="fixed-action-btn horizontal ">
    <a class="btn-floating btn-large green modal-trigger" href="#modal_create_product">
      <i class="fa fa-plus"></i>
    </a>
    <ul>
    </ul>
  </div>
  <!-- Modal Structure -->
  <nav>
    <div class="nav-wrapper red darken-4 z-depth-5">
      <a href="#!" class="brand-logo center">CONFIGURATION</a>
      <ul class="left">
        <li><a href="index.html"><i class="fa fa-arrow-left fa-3x right"></i></a></li>
      </ul>
    </div>
  </nav>

    <div id="products_list" class=" row">
    </div>
    <div id="products_body">
    </div>


  <div id="modal_create_product" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h4 class="center">Create Product</h4>
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s5">
              <input value="" id="input_name_create_product" type="text" class="validate">
              <label for="first_name">Name</label>
            </div>
          <div class="input-field col s2">
            <input value="" id="input_price_create_product" type="number" class="validate">
            <label for="first_name">Price in Fr</label>
          </div>
          <div class="input-field col s5">
            <select value="null" class="icons-select" id="input_icon_create_product"></select>
          </div>
          </div>
          <div id="types_to_check_new" class="row">
          </div>
        </form>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat red-text">Annuler</a>
      <a href="#!" onclick="createProduct()" class="modal-action modal-close waves-effect waves-green btn-flat green-text">Cr√©er</a>
    </div>
  </div>






  <script type="text/javascript">
    $(document).ready(function() {
      // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
      $('.modal').modal();
    });
    let list_types = get_types_locations().responseJSON.types;
    let html_types = "";
    list_types.forEach(function(type){
        let type_id = type.id;
        let type_name = type.name;
        html_types +=  '<p class="col 3">\
                      <input value="'+ type_id +'" type="checkbox" class="filled-in" id="type_'+ type_id +'_new"/> \
                      <label for="type_'+ type_id +'_new">' + type_name + '</label> \
                    </p>';

      });
    document.getElementById("types_to_check_new").innerHTML = html_types;
  </script>


  <script src="node_modules/materialize-css/dist/js/materialize.min.js" type="text/javascript"></script>
</body>

</html>
